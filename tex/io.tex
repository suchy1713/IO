\documentclass[a4paper,11pt]{article}
\usepackage[polish]{babel}
\usepackage[utf8]{inputenc}   % lub utf8
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{anysize}
\usepackage{enumerate}
\usepackage{times}
 
%\marginsize{left}{right}{top}{bottom}
\marginsize{3cm}{3cm}{3cm}{3cm}
\setlength{\parindent}{1em}
\sloppy

\usepackage{enumitem}
\setlist[enumerate,1]{label=\arabic*}
\setlist[enumerate,2]{label=\theenumi.\arabic*}
\setlist[enumerate,3]{label=\theenumii.\arabic*}

\title{Inżynieria Oprogramowania - analiza systemu aquaparku}
\date{2019/20}
\author{Piotr Wawrzynów \and Wojciech Dolata} 

\begin{document}

\newcommand{\pspec}[4]{#1 \\wejście: #2 \\wyjście: #3 \\działanie: #4}

\maketitle
\newpage



\tableofcontents
\newpage


 
\section{Streszczenie systemu}
Modelowany przez nas system jest systemem obsługi aquaparku. System ten posiada obsługę zawierania transakcji kupna biletu jednorazowego, oraz karnetów okresowych zarówno na miejscu, jak i on-line. Klient po założeniu konta na stronie internetowej może za jej pomocą zakupić karnet, który jest na stałe przypisany do konta. Płatność internetowa odbywa się za pomocą pośrednika oferującego system takich płatności. Na miejscu istnieje możliwość płatności kartą lub gotówką. Jednym z zadań systemu jest również obsługa księgowości, czyli między innymi wystawianie faktur dla podwykonawców (np. firma ratownicza, firma sprzątająca), rozliczanie podatku VAT.\\ \\
System umożliwia również korzystanie z usług firmy gastronomicznej, której za pewną kwotę udostępnia się wydzielone miejsce na terenie aquaparku. Firma zapewniająca bezpieczeństwo w wodzie dostarcza wykwalifikowaną kadrę ratowniczą. W systemie instruktor prowadzi lekcje pływania dla dzieci i młodzieży oraz zajęcia aerobiku dla seniorów. Aquapark na potrzeby lekcji rezerwuje tor w basenie, na którym instruktor prowadzi zajęcia doskonalące technikę pływania, lub pojedynczy basen, w którym odbywają się zajęcia aerobiku.
\newpage


\section{Obiekty}
\begin{itemize}
    \item Klient - osoba korzystająca z usług aquaparku
    \item Pracownicy aquaparku
            \begin{itemize}
                \item Kasjer - osoba przyjmująca wpłaty i wydająca bilety wstępu
                \item Instruktor - nauczyciel pływania
                \item Księgowy - osoba zajmująca się szeroko pojętymi finansami
                \item Szatniarz - osoba odpowiedzialna za obsługę szatni
                \item Kierownik - osoba zatrudniająca firmy zewnętrzne
            \end{itemize}
    \item Narzędzia informatyczne
            \begin{itemize}
                \item strona internetowa - pozwala na otrzymanie informacji związanych z aquaparkiem oraz zakup biletu on-line
                \item program rozliczający - kalkuluje cenę biletu przy wstępie (system punktowy) lub przy wyjściu (system czasowy)
            \end{itemize}
    \item Firmy zewnętrzne
            \begin{itemize}
                \item firma sprzątająca
                \item firma obsługująca gastronomię
                \item firma obsługująca płatności internetowe (np. przelewy 24)
                \item firma ratownicza (np. WOPR)
            \end{itemize}
\end{itemize}



\section{Zdarzenia}
\begin{itemize}
    \item założenie konta stałego klienta
    \item zakup biletu jednorazowego lub karnetu
            \begin{itemize}
                \item on-line
                \item osobiście
            \end{itemize}
    \item rezerwacja toru (np. przez naukę pływania)
    \item wykupienie lekcji pływania
    \item uiszczenie płatności
    \item wybór sposobu płatności
            \begin{itemize}
                \item gotówka
                \item karta
            \end{itemize}
\end{itemize}
\newpage


\section{Diagram kontekstowy}
    \begin{figure}[!htb]
    \centerline{\includegraphics[scale=0.7]{kontekstowy.jpg}}
    \label{fig:kontekstowy}
    \end{figure}
\newpage



\section{Diagramy DFD}
\subsection{Poziom 0}
    \begin{figure}[!htb]
    \centerline{\includegraphics[scale=0.9]{level0.jpg}}
    \label{fig:level0}
    \end{figure}
\newpage



\subsection{Poziom 1}
\subsubsection{Dekompozycja procesu Założenie konta}
    \begin{figure}[!htb]
    \centerline{\includegraphics[scale=0.8]{level1_1.jpg}}
    \label{fig:level1_1}
    \end{figure}
    \newpage



\subsubsection{Dekompozycja procesu Obsługa transakcji}
    \begin{figure}[!htb]
    \centerline{\includegraphics[scale=1.1]{level2_1.jpg}}
    \label{fig:level1_2}
    \end{figure}
    \newpage



\subsubsection{Dekompozycja procesu Usługi firm zewnętrznych}
    \begin{figure}[!htb]
    \centerline{\includegraphics[scale=1.1]{level1_3.jpg}}
    \label{fig:level1_3}
    \end{figure}
    \newpage
  
\subsubsection{Dekompozycja procesu Obsługa wynagrodzeń}
    \begin{figure}[!htb]
    \centerline{\includegraphics[scale=0.8]{level1_4.jpg}}
    \label{fig:level1_4}
    \end{figure}
    \newpage  
    
    
    
\subsection{Poziom 2}
\subsubsection{Dekompozycja procesu Weryfikacja danych klienta}
    \begin{figure}[!htb]
    \centerline{\includegraphics[scale=1.1]{level2_1_1.jpg}}
    \label{fig:level2_1_1}
    \end{figure}
    \newpage
    
\subsubsection{Dekompozycja procesu Zapis danych klienta do bazy}
    \begin{figure}[!htb]
    \centerline{\includegraphics[scale=1.1]{level2_1_2.jpg}}
    \label{fig:level2_1_2}
    \end{figure}
    \newpage
    
\subsubsection{Dekompozycja procesu Obsługa płatności za założenie konta}
    \begin{figure}[!htb]
    \centerline{\includegraphics[scale=1.1]{level2_1_3.jpg}}
    \label{fig:level2_1_3}
    \end{figure}
    \newpage
    
\subsubsection{Dekompozycja procesu Pojedynczy bilet}
    \begin{figure}[!htb]
    \centerline{\includegraphics[scale=1.1]{level2_2_3.jpg}}
    \label{fig:level2_2_3}
    \end{figure}
    \newpage
    
\subsubsection{Dekompozycja procesu Karnet}
    \begin{figure}[!htb]
    \centerline{\includegraphics[scale=1.1]{level2_2_4.jpg}}
    \label{fig:level2_2_4}
    \end{figure}
    \newpage
    
\subsubsection{Dekompozycja procesu Nauka pływania}
    \begin{figure}[!htb]
    \centerline{\includegraphics[scale=1.1]{level2_2_5.jpg}}
    \label{fig:level2_2_5}
    \end{figure}
    \newpage
    
\subsubsection{Dekompozycja procesu Rezerwacja toru}
    \begin{figure}[!htb]
    \centerline{\includegraphics[scale=1.1]{level2_2_6.jpg}}
    \label{fig:level2_2_6}
    \end{figure}
    \newpage
    
\subsubsection{Dekompozycja procesu Obsługa płatności}
    \begin{figure}[!htb]
    \centerline{\includegraphics[scale=1]{level2_2_7.jpg}}
    \label{fig:level2_2_7}
    \end{figure}
    \newpage
    
\subsubsection{Dekompozycja procesu Wypłacanie należności}
    \begin{figure}[!htb]
    \centerline{\includegraphics[scale=1.1]{level2_4_2.jpg}}
    \label{fig:level2_4_2}
    \end{figure}
    \newpage
 
\subsubsection{Dekompozycja procesu Rozliczanie podatków}
    \begin{figure}[!htb]
    \centerline{\includegraphics[scale=1.1]{level2_4_3.jpg}}
    \label{fig:level2_4_3}
    \end{figure}
    \newpage
    

\section{PSPEC}

\subsection{Spis procesów}
\begin{enumerate}
    \item Założenie konta
        \begin{enumerate}
            \item Weryfikacja danych klienta
                \begin{enumerate}
                    \item Sprawdzenie poprawności danych osobowych
                    \item Weryfikacja adresu email
                    \item Sprawdzenie poprawności danych płatniczych
                \end{enumerate}
            \item Zapis danych klienta do bazy
                \begin{enumerate}
                    \item Ustalenie typu konta
                    \item Generowanie raportów
                \end{enumerate}
            \item Obsługa płatności za założenie konta
                \begin{enumerate}
                    \item Generowanie potwierdzenia płatności
                \end{enumerate}
        \end{enumerate}
    \item Obsługa transakcji
        \begin{enumerate}
            \item Wybór rodzaju transakcji
            \item Identyfikacja klienta
            \item Pojedynczy bilet
                \begin{enumerate}
                    \item Wybór ilości godzin
                \end{enumerate}
            \item Karnet
                \begin{enumerate}
                    \item Wybór rodzaju karnetu
                \end{enumerate}
            \item Nauka pływania
                \begin{enumerate}
                    \item Wybór poziomu zaawansowania
                    \item Przypisanie do grupy
                \end{enumerate}
            \item Rezerwacja toru
                \begin{enumerate}
                    \item Wybór terminu rezerwacji toru
                    \item Przypisanie toru do rezerwacji
                \end{enumerate}
            \item Obsługa płatności
                \begin{enumerate}
                    \item Kalkulacja łącznego kosztu
                    \item Wybór sposobu płatności
                    \item Płatność gotówką
                    \item Płatność kartą
                \end{enumerate}
        \end{enumerate}
    \item Usługi firm zewnętrznych
        \begin{enumerate}
            \item Firma sprzątająca
            \item Firma gastronomiczna
            \item Firma obsługująca płatności
            \item Firma ratownicza
        \end{enumerate}
    \item Obsługa wynagrodzeń
        \begin{enumerate}
            \item Sprawdzanie poprawności faktur
            \item Wypłacanie należności
                \begin{enumerate}
                    \item Dokonywanie przelewu
                    \item Wypłacanie wynagrodzeń pracownikom
                \end{enumerate}
            \item Rozliczanie podatków
                \begin{enumerate}
                    \item Płacenie ZUS, itd.
                    \item Płacenie podatków
                \end{enumerate}
        \end{enumerate}
\end{enumerate}


\subsection{Opis procesów}
\begin{enumerate}
    \item Założenie konta
        \begin{enumerate}
            \item \pspec{Weryfikacja danych klienta}{in}{out}{dupa}
                \begin{enumerate}
                    \item Sprawdzenie poprawności danych osobowych
                    \item Weryfikacja adresu email
                    \item Sprawdzenie poprawności danych płatniczych
                \end{enumerate}
            \item Zapis danych klienta do bazy
                \begin{enumerate}
                    \item Ustalenie typu konta
                    \item Generowanie raportów
                \end{enumerate}
            \item Obsługa płatności za założenie konta
                \begin{enumerate}
                    \item Generowanie potwierdzenia płatności
                \end{enumerate}
        \end{enumerate}
    \item \pspec{Obsługa transakcji}{Informacje o nowej transakcji, informacja o zmianach cen, informacja o zakończonych zajęciach}{Potwierdzenie finalizacji transakcji, Informacja o zleconych zajęciach, Informacje o zawartych trasakcjach, raport}{Na podstawie danych od klienta proces decyduje o rodzaju transakcji i przeprowadza obsługę płatności}
        \begin{enumerate}
            \item \pspec{Wybór rodzaju transakcji}{Informacje o transakcji}{Decyzja klienta}{Podjęcie decyzji o rodzaju transakcji na podstawie danych pobranych od klienta.}
            \item \pspec{Identyfikacja klienta}{Dane osobowe, Informacje o koncie}{Zniżki}{Pobranie danych klienta z bazy danych w celu określenia przysługujących zniżek.}
            \item \pspec{Pojedynczy bilet}{Decyzja klienta}{Informacje o transakcji}{Obsługa zakupu pojedynczego biletu.}
                \begin{enumerate}
                    \item \pspec{Wybór ilości godzin}{Decyzja klienta}{Informacje o transakcji}{Podjęcie decyzji o czasie ważności biletu na podstawie danych od klienta.}
                \end{enumerate}
            \item \pspec{Karnet}{Decyzja klienta}{Informacje o transakcji}{Obsługa zakupu karnetu}
                \begin{enumerate}
                    \item \pspec{Wybór rodzaju karnetu}{Decyzja klienta}{Informacje o transakcji}{Podjęcie decyzji o rodzaju karnetu (dzienny, tygodniowy, miesięczny) na podstawie danych od klienta.}
                \end{enumerate}
            \item \pspec{Nauka pływania}{Decyzja klienta}{Informacje o transakcji}{Obsługa zapisu do grupy nauki pływania.}
                \begin{enumerate}
                    \item \pspec{Wybór poziomu zaawansowania}{Decyzja klienta}{Poziom zaawansowania}{Podjęcie decyzji o poziomie zaawansowania na podstawie danych od klienta}
                    \item \pspec{Przypisanie do grupy}{Poziom zaawansowania, Informacja o wolnych miejscach}{Informacje o transakcji, Informacja o zapisie}{Zapisanie klienta do grupy z wolnymi miejscami o odpowiednim poziomie zaawanasowania.}
                \end{enumerate}
            \item \pspec{Rezerwacja toru}{Decyzja klienta}{Informacje o transakcji}{Obsługa rezerwacji toru}
                \begin{enumerate}
                    \item \pspec{Wybór terminu rezerwacji toru}{Decyzja klienta, Informacja o wolnych torach}{Termin, Wybrany tor}{Podjęcie decyzji o terminie i torze do rezerwacji na podstawie danych od klienta i danych o wolnych torach pobranych z bazy}
                    \item \pspec{Przypisanie toru do rezerwacji}{Wybrany tor}{Informacja o rezerwacji, Informacje o transakcji}{Zapis informacji o rezerwacji do bazy danych}
                \end{enumerate}
            \item \pspec{Obsługa płatności}{Informacje o płatności}{Potwierdzenie płatności, raport}{Proces odpowiadający za obsługę płatności różnymi metodami oraz utworzenie raportów dla księgowego i kierownika}
                \begin{enumerate}
                    \item \pspec{Kalkulacja łącznego kosztu}{Rodzaj transakcji, zniżki, ceny}{łączny koszt}{Proces obliczający łączny koszt transakcji zależnie od jej rodzaju, aktualnego cennika i zniżek przypadających klientowi.}
                    \item \pspec{Wybór sposobu płatności}{Decyzja klienta}{Sposób płatności}{Podjęcie decyzji o sposobie płatności na podstawie danych pobranych od klienta}
                    \item \pspec{Płatność gotówką}{Sposób płatności}{Potwierdzenie płatności, raport}{Obsługa płatności gotówkowej i utworzenie raportów i potwierdzeń płatności}
                    \item \pspec{Płatność kartą}{Sposób płatności}{Potwierdzenie płatności, raport}{Obsługa płatności kartą i utworzenie raportów i potwierdzeń płatności}
                \end{enumerate}
        \end{enumerate}
    \item Usługi firm zewnętrznych
        \begin{enumerate}
            \item Firma sprzątająca
            \item Firma gastronomiczna
            \item Firma obsługująca płatności
            \item Firma ratownicza
        \end{enumerate}
    \item Obsługa wynagrodzeń
        \begin{enumerate}
            \item Sprawdzanie poprawności faktur
            \item Wypłacanie należności
                \begin{enumerate}
                    \item Dokonywanie przelewu
                    \item Wypłacanie wynagrodzeń pracownikom
                \end{enumerate}
            \item Rozliczanie podatków
                \begin{enumerate}
                    \item Płacenie ZUS, itd.
                    \item Płacenie podatków
                \end{enumerate}
        \end{enumerate}
\end{enumerate}
 
\end{document}